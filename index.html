<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Quiniela Oficial Liga MX - Participa y gana premios prediciendo los resultados">
    <meta name="theme-color" content="#1a1a2e">
    <title>üèÜ Quiniela Liga MX - Jornada 1</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --success: #10b981;
            --success-dark: #059669;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-primary: #0f0f23;
            --bg-secondary: #1a1a2e;
            --bg-card: #16213e;
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --local-color: #22c55e;
            --empate-color: #eab308;
            --visita-color: #3b82f6;
            --shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }

        /* Header con gradiente animado */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #6366f1 100%);
            background-size: 200% 200%;
            animation: gradientShift 8s ease infinite;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .logo {
            font-size: 3rem;
            margin-bottom: 10px;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .jornada {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 5px;
            font-weight: 500;
        }

        /* Contador de tiempo */
        .countdown-container {
            background: var(--bg-secondary);
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .countdown-item {
            background: var(--bg-card);
            padding: 15px 20px;
            border-radius: 12px;
            text-align: center;
            min-width: 80px;
            border: 1px solid var(--border-color);
        }

        .countdown-number {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            display: block;
        }

        .countdown-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .countdown-title {
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        /* Barra de progreso */
        .progress-container {
            background: var(--bg-secondary);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--border-color);
        }

        .progress-bar {
            height: 8px;
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--primary));
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        .progress-text span:last-child {
            color: var(--success);
            font-weight: 600;
        }

        /* Container principal */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Leyenda de colores */
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 15px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.local { background: var(--local-color); }
        .legend-dot.empate { background: var(--empate-color); }
        .legend-dot.visita { background: var(--visita-color); }

        /* Tarjeta de partido mejorada */
        .match-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .match-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--border-color);
            transition: background 0.3s ease;
        }

        .match-card.selected-L::before { background: var(--local-color); }
        .match-card.selected-E::before { background: var(--empate-color); }
        .match-card.selected-V::before { background: var(--visita-color); }

        .match-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border-color: var(--primary);
        }

        .match-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .match-number {
            background: var(--primary);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .match-date {
            font-size: 0.8rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .teams {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 10px;
            margin-bottom: 18px;
        }

        .team {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .team.home {
            justify-content: flex-start;
        }

        .team.away {
            justify-content: flex-end;
            flex-direction: row-reverse;
        }

        .team-logo {
            width: 40px;
            height: 40px;
            background: var(--bg-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .team-name {
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text-primary);
        }

        .vs-badge {
            background: var(--bg-secondary);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        /* Botones de opciones mejorados */
        .options {
            display: flex;
            gap: 10px;
        }

        .options input[type="radio"] {
            display: none;
        }

        .options label {
            flex: 1;
            text-align: center;
            padding: 14px 10px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--text-secondary);
            user-select: none;
            position: relative;
            overflow: hidden;
        }

        .options label:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .options label .label-text {
            display: block;
            font-size: 0.75rem;
            margin-top: 2px;
            opacity: 0.7;
        }

        input[value="L"]:checked + label {
            background: rgba(34, 197, 94, 0.15);
            border-color: var(--local-color);
            color: var(--local-color);
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
        }

        input[value="E"]:checked + label {
            background: rgba(234, 179, 8, 0.15);
            border-color: var(--empate-color);
            color: var(--empate-color);
            box-shadow: 0 0 20px rgba(234, 179, 8, 0.2);
        }

        input[value="V"]:checked + label {
            background: rgba(59, 130, 246, 0.15);
            border-color: var(--visita-color);
            color: var(--visita-color);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
        }

        /* Secci√≥n de datos del usuario */
        .user-section {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 25px;
            margin-top: 30px;
        }

        .user-section h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input {
            width: 100%;
            padding: 15px 18px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        .input-group input::placeholder {
            color: var(--text-secondary);
            opacity: 0.6;
        }

        /* Checkbox de t√©rminos */
        .terms-group {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-top: 20px;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: 12px;
        }

        .terms-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
            margin-top: 2px;
            cursor: pointer;
        }

        .terms-group label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .terms-group a {
            color: var(--primary);
            text-decoration: none;
        }

        .terms-group a:hover {
            text-decoration: underline;
        }

        /* Bot√≥n de env√≠o */
        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--success), var(--success-dark));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }

        .submit-btn:disabled {
            background: var(--border-color);
            cursor: not-allowed;
            transform: none;
        }

        .submit-btn .spinner {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast notifications */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: slideIn 0.3s ease;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 350px;
        }

        .toast.success { background: linear-gradient(135deg, #10b981, #059669); }
        .toast.error { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .toast.warning { background: linear-gradient(135deg, #f59e0b, #d97706); }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
        }

        /* Estad√≠sticas r√°pidas */
        .stats-bar {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        /* Premio destacado */
        .prize-banner {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .prize-banner::before {
            content: 'üèÜ';
            position: absolute;
            font-size: 4rem;
            opacity: 0.2;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
        }

        .prize-banner h3 {
            color: #1a1a2e;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 5px;
        }

        .prize-amount {
            color: #1a1a2e;
            font-size: 2rem;
            font-weight: 800;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .header h1 { font-size: 1.4rem; }
            .countdown-item { min-width: 65px; padding: 10px 15px; }
            .countdown-number { font-size: 1.4rem; }
            .team-name { font-size: 0.85rem; }
            .team-logo { width: 35px; height: 35px; font-size: 1.2rem; }
            .options label { padding: 12px 8px; font-size: 0.9rem; }
            .container { padding: 15px; }
            .toast { max-width: 280px; padding: 12px 16px; }
        }

        /* Animaci√≥n de shake para errores */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .shake {
            animation: shake 0.5s ease;
        }

        /* Modal de confirmaci√≥n */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .modal h3 {
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .modal p {
            color: var(--text-secondary);
            margin-bottom: 25px;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
        }

        .modal-btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn.cancel {
            background: var(--bg-secondary);
            color: var(--text-secondary);
        }

        .modal-btn.confirm {
            background: var(--success);
            color: white;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
        }

        /* Admin Button */
        .admin-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
            transition: all 0.3s ease;
            z-index: 9998;
            font-size: 1.5rem;
            border: none;
        }

        .admin-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 15px 40px rgba(99, 102, 241, 0.6);
        }

        /* Admin Panel Modal */
        .admin-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .admin-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .admin-panel {
            background: var(--bg-card);
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.8);
            transition: transform 0.3s ease;
        }

        .admin-modal.active .admin-panel {
            transform: scale(1);
        }

        .admin-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 25px 30px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header h2 {
            margin: 0;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-close {
            background: rgba(255,255,255,0.2);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .admin-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }

        .admin-tabs {
            display: flex;
            gap: 5px;
            padding: 20px 30px 0;
            border-bottom: 2px solid var(--border-color);
        }

        .admin-tab {
            padding: 12px 20px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            border-radius: 8px 8px 0 0;
            position: relative;
        }

        .admin-tab:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        .admin-tab.active {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .admin-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--primary);
        }

        .admin-content {
            padding: 30px;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        .admin-section {
            margin-bottom: 30px;
        }

        .admin-section h4 {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .admin-input-group {
            margin-bottom: 15px;
        }

        .admin-input-group label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .admin-input-group input,
        .admin-input-group select,
        .admin-input-group textarea {
            width: 100%;
            padding: 12px 15px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .admin-input-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .admin-input-group input:focus,
        .admin-input-group select:focus,
        .admin-input-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .match-config {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
        }

        .match-config-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .match-config-header h5 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .btn-small {
            padding: 8px 15px;
            border: none;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: var(--success-dark);
            transform: translateY(-2px);
        }

        .admin-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--border-color);
        }

        .admin-login {
            text-align: center;
            padding: 40px 30px;
        }

        .admin-login h3 {
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .admin-login input {
            width: 100%;
            max-width: 300px;
            padding: 15px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .admin-login input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .admin-login button {
            width: 100%;
            max-width: 300px;
            padding: 15px;
            background: var(--primary);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-login button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .result-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .result-input input {
            width: 60px;
            text-align: center;
        }

        .result-separator {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>

<!-- Toast Container -->
<div class="toast-container" id="toastContainer"></div>

<!-- Admin Button -->
<button class="admin-btn" onclick="openAdminPanel()" title="Panel de Administrador">‚öôÔ∏è</button>

<!-- Admin Panel Modal -->
<div class="admin-modal" id="adminModal">
    <div class="admin-panel">
        <div id="adminLoginSection" class="admin-login">
            <h3>üîê Acceso de Administrador</h3>
            <input type="password" id="adminPassword" placeholder="Contrase√±a" onkeypress="if(event.key === 'Enter') adminLogin()">
            <button onclick="adminLogin()">Iniciar Sesi√≥n</button>
        </div>
        
        <div id="adminPanelContent" style="display: none;">
            <div class="admin-header">
                <h2>‚öôÔ∏è Panel de Administraci√≥n</h2>
                <button class="admin-close" onclick="closeAdminPanel()">‚úï</button>
            </div>
            
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="switchTab('general')">üìä General</button>
                <button class="admin-tab" onclick="switchTab('matches')">‚öΩ Partidos</button>
                <button class="admin-tab" onclick="switchTab('results')">üèÜ Resultados</button>
                <button class="admin-tab" onclick="switchTab('export')">üíæ Datos</button>
            </div>
            
            <div class="admin-content">
                <!-- General Tab -->
                <div id="tab-general" class="tab-panel active">
                    <div class="admin-section">
                        <h4>üèüÔ∏è Informaci√≥n de la Liga</h4>
                        <div class="admin-grid">
                            <div class="admin-input-group">
                                <label for="adminLeagueName">Nombre de la Liga</label>
                                <input type="text" id="adminLeagueName" placeholder="Liga MX">
                            </div>
                            <div class="admin-input-group">
                                <label for="adminSeason">Temporada</label>
                                <input type="text" id="adminSeason" placeholder="Clausura 2025">
                            </div>
                            <div class="admin-input-group">
                                <label for="adminJornada">Jornada</label>
                                <input type="number" id="adminJornada" placeholder="1" min="1">
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h4>‚è∞ Configuraci√≥n de Tiempo</h4>
                        <div class="admin-grid">
                            <div class="admin-input-group">
                                <label for="adminDeadlineDate">Fecha L√≠mite</label>
                                <input type="date" id="adminDeadlineDate">
                            </div>
                            <div class="admin-input-group">
                                <label for="adminDeadlineTime">Hora L√≠mite</label>
                                <input type="time" id="adminDeadlineTime">
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h4>üèÜ Premios</h4>
                        <div class="admin-grid">
                            <div class="admin-input-group">
                                <label for="adminPrize1">1er Lugar (MXN)</label>
                                <input type="number" id="adminPrize1" placeholder="1000" min="0">
                            </div>
                            <div class="admin-input-group">
                                <label for="adminPrize2">2do Lugar (MXN)</label>
                                <input type="number" id="adminPrize2" placeholder="500" min="0">
                            </div>
                            <div class="admin-input-group">
                                <label for="adminPrize3">3er Lugar (MXN)</label>
                                <input type="number" id="adminPrize3" placeholder="500" min="0">
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-section">
                        <h4>üìä Estad√≠sticas</h4>
                        <div class="admin-input-group">
                            <label for="adminParticipants">N√∫mero de Participantes</label>
                            <input type="number" id="adminParticipants" placeholder="247" min="0">
                        </div>
                    </div>
                    
                    <div class="admin-actions">
                        <button class="btn-success" style="flex: 1;" onclick="saveGeneralConfig()">üíæ Guardar Configuraci√≥n</button>
                    </div>
                </div>
                
                <!-- Matches Tab -->
                <div id="tab-matches" class="tab-panel">
                    <div class="admin-section">
                        <h4>‚öΩ Configuraci√≥n de Partidos</h4>
                        <div id="matchesConfigContainer"></div>
                        <button class="btn-primary" style="width: 100%; margin-top: 15px;" onclick="addMatchConfig()">‚ûï Agregar Partido</button>
                    </div>
                    
                    <div class="admin-actions">
                        <button class="btn-success" style="flex: 1;" onclick="saveMatchesConfig()">üíæ Guardar Partidos</button>
                    </div>
                </div>
                
                <!-- Results Tab -->
                <div id="tab-results" class="tab-panel">
                    <div class="admin-section">
                        <h4>üèÜ Captura de Resultados</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">Ingresa los resultados finales de cada partido</p>
                        <div id="resultsConfigContainer"></div>
                    </div>
                    
                    <div class="admin-actions">
                        <button class="btn-success" style="flex: 1;" onclick="saveResults()">üíæ Guardar Resultados</button>
                    </div>
                </div>
                
                <!-- Export/Import Tab -->
                <div id="tab-export" class="tab-panel">
                    <div class="admin-section">
                        <h4>üíæ Exportar Configuraci√≥n</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Descarga la configuraci√≥n actual en formato JSON</p>
                        <button class="btn-primary" style="width: 100%;" onclick="exportConfig()">üì• Exportar Configuraci√≥n</button>
                    </div>
                    
                    <div class="admin-section">
                        <h4>üì§ Importar Configuraci√≥n</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Carga una configuraci√≥n desde un archivo JSON</p>
                        <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importConfig(this)">
                        <button class="btn-primary" style="width: 100%;" onclick="document.getElementById('importFile').click()">üì§ Importar Configuraci√≥n</button>
                    </div>
                    
                    <div class="admin-section">
                        <h4>üóëÔ∏è Resetear Configuraci√≥n</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Restaura la configuraci√≥n a los valores por defecto</p>
                        <button class="btn-danger" style="width: 100%;" onclick="resetConfig()">üîÑ Resetear a Valores por Defecto</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de confirmaci√≥n -->
<div class="modal-overlay" id="confirmModal">
    <div class="modal">
        <div class="modal-icon">üéØ</div>
        <h3>¬øConfirmar quiniela?</h3>
        <p>Est√°s a punto de enviar tus pron√≥sticos. Una vez enviados no podr√°s modificarlos.</p>
        <div class="modal-buttons">
            <button class="modal-btn cancel" onclick="closeModal()">Cancelar</button>
            <button class="modal-btn confirm" onclick="confirmSubmit()">Confirmar</button>
        </div>
    </div>
</div>

<!-- Header -->
<header class="header">
    <div class="header-content">
        <div class="logo">‚öΩ</div>
        <h1>Quiniela Liga MX</h1>
        <p class="jornada">Clausura 2025 ‚Ä¢ Jornada 1</p>
    </div>
</header>

<!-- Contador de tiempo -->
<div class="countdown-container">
    <p class="countdown-title">‚è∞ Tiempo restante para participar</p>
    <div class="countdown" id="countdown">
        <div class="countdown-item">
            <span class="countdown-number" id="days">00</span>
            <span class="countdown-label">D√≠as</span>
        </div>
        <div class="countdown-item">
            <span class="countdown-number" id="hours">00</span>
            <span class="countdown-label">Horas</span>
        </div>
        <div class="countdown-item">
            <span class="countdown-number" id="minutes">00</span>
            <span class="countdown-label">Min</span>
        </div>
        <div class="countdown-item">
            <span class="countdown-number" id="seconds">00</span>
            <span class="countdown-label">Seg</span>
        </div>
    </div>
</div>

<!-- Barra de progreso -->
<div class="progress-container">
    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="progress-text">
        <span>Progreso de tu quiniela</span>
        <span id="progressText">0 de 9 partidos</span>
    </div>
</div>

<main class="container">
    <!-- Banner de premio -->
    <div class="prize-banner">
        <h3>Premio al Primer Lugar</h3>
        <div class="prize-amount">$1,000 MXN</div>
    </div>

    <!-- Estad√≠sticas -->
    <div class="stats-bar">
        <div class="stat-item">
            <div class="stat-number" id="participantes">247</div>
            <div class="stat-label">Participantes</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">9</div>
            <div class="stat-label">Partidos</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">$3,000</div>
            <div class="stat-label">En premios</div>
        </div>
    </div>

    <!-- Leyenda -->
    <div class="legend">
        <div class="legend-item">
            <div class="legend-dot local"></div>
            <span>Local gana</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot empate"></div>
            <span>Empate</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot visita"></div>
            <span>Visita gana</span>
        </div>
    </div>

    <form id="quinielaForm">
        <!-- Partido 1 -->
        <div class="match-card" data-match="1">
            <div class="match-header">
                <div class="match-number">1</div>
                <div class="match-date">üìÖ Vie 10 Ene ‚Ä¢ 19:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">ü¶Ö</div>
                    <span class="team-name">Am√©rica</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üêê</div>
                    <span class="team-name">Chivas</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p1" id="p1L" value="L" required>
                <label for="p1L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p1" id="p1E" value="E">
                <label for="p1E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p1" id="p1V" value="V">
                <label for="p1V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 2 -->
        <div class="match-card" data-match="2">
            <div class="match-header">
                <div class="match-number">2</div>
                <div class="match-date">üìÖ Vie 10 Ene ‚Ä¢ 21:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">üöÇ</div>
                    <span class="team-name">Cruz Azul</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">‚ö°</div>
                    <span class="team-name">Rayados</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p2" id="p2L" value="L" required>
                <label for="p2L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p2" id="p2E" value="E">
                <label for="p2E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p2" id="p2V" value="V">
                <label for="p2V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 3 -->
        <div class="match-card" data-match="3">
            <div class="match-header">
                <div class="match-number">3</div>
                <div class="match-date">üìÖ S√°b 11 Ene ‚Ä¢ 17:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">ü¶Å</div>
                    <span class="team-name">Le√≥n</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üêæ</div>
                    <span class="team-name">Pumas</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p3" id="p3L" value="L" required>
                <label for="p3L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p3" id="p3E" value="E">
                <label for="p3E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p3" id="p3V" value="V">
                <label for="p3V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 4 -->
        <div class="match-card" data-match="4">
            <div class="match-header">
                <div class="match-number">4</div>
                <div class="match-date">üìÖ S√°b 11 Ene ‚Ä¢ 19:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">üêØ</div>
                    <span class="team-name">Tigres</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üòà</div>
                    <span class="team-name">Toluca</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p4" id="p4L" value="L" required>
                <label for="p4L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p4" id="p4E" value="E">
                <label for="p4E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p4" id="p4V" value="V">
                <label for="p4V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 5 -->
        <div class="match-card" data-match="5">
            <div class="match-header">
                <div class="match-number">5</div>
                <div class="match-date">üìÖ S√°b 11 Ene ‚Ä¢ 21:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">üîµ</div>
                    <span class="team-name">Pachuca</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üü¢</div>
                    <span class="team-name">Santos</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p5" id="p5L" value="L" required>
                <label for="p5L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p5" id="p5E" value="E">
                <label for="p5E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p5" id="p5V" value="V">
                <label for="p5V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 6 -->
        <div class="match-card" data-match="6">
            <div class="match-header">
                <div class="match-number">6</div>
                <div class="match-date">üìÖ Dom 12 Ene ‚Ä¢ 12:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">ü¶à</div>
                    <span class="team-name">Quer√©taro</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">‚öì</div>
                    <span class="team-name">Mazatl√°n</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p6" id="p6L" value="L" required>
                <label for="p6L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p6" id="p6E" value="E">
                <label for="p6E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p6" id="p6V" value="V">
                <label for="p6V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 7 -->
        <div class="match-card" data-match="7">
            <div class="match-header">
                <div class="match-number">7</div>
                <div class="match-date">üìÖ Dom 12 Ene ‚Ä¢ 17:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">üî¥</div>
                    <span class="team-name">Atlas</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üü°</div>
                    <span class="team-name">Necaxa</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p7" id="p7L" value="L" required>
                <label for="p7L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p7" id="p7E" value="E">
                <label for="p7E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p7" id="p7V" value="V">
                <label for="p7V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 8 -->
        <div class="match-card" data-match="8">
            <div class="match-header">
                <div class="match-number">8</div>
                <div class="match-date">üìÖ Dom 12 Ene ‚Ä¢ 19:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">ü¶Ç</div>
                    <span class="team-name">Ju√°rez</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üåµ</div>
                    <span class="team-name">San Luis</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p8" id="p8L" value="L" required>
                <label for="p8L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p8" id="p8E" value="E">
                <label for="p8E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p8" id="p8V" value="V">
                <label for="p8V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Partido 9 -->
        <div class="match-card" data-match="9">
            <div class="match-header">
                <div class="match-number">9</div>
                <div class="match-date">üìÖ Dom 12 Ene ‚Ä¢ 21:00</div>
            </div>
            <div class="teams">
                <div class="team home">
                    <div class="team-logo">üèõÔ∏è</div>
                    <span class="team-name">Puebla</span>
                </div>
                <div class="vs-badge">VS</div>
                <div class="team away">
                    <div class="team-logo">üê¥</div>
                    <span class="team-name">Tijuana</span>
                </div>
            </div>
            <div class="options">
                <input type="radio" name="p9" id="p9L" value="L" required>
                <label for="p9L">L<span class="label-text">Local</span></label>
                <input type="radio" name="p9" id="p9E" value="E">
                <label for="p9E">E<span class="label-text">Empate</span></label>
                <input type="radio" name="p9" id="p9V" value="V">
                <label for="p9V">V<span class="label-text">Visita</span></label>
            </div>
        </div>

        <!-- Datos del usuario -->
        <div class="user-section">
            <h3>üë§ Tus Datos</h3>
            <div class="input-group">
                <label for="nombre">Nombre completo</label>
                <input type="text" id="nombre" name="nombre" placeholder="Ej: Juan P√©rez Garc√≠a" required autocomplete="name">
            </div>
            <div class="input-group">
                <label for="email">Correo electr√≥nico</label>
                <input type="email" id="email" name="email" placeholder="Ej: tucorreo@email.com" required autocomplete="email">
            </div>
            <div class="input-group">
                <label for="telefono">WhatsApp / Tel√©fono</label>
                <input type="tel" id="telefono" name="telefono" placeholder="Ej: 55 1234 5678" required autocomplete="tel">
            </div>
            <div class="terms-group">
                <input type="checkbox" id="terms" required>
                <label for="terms">Acepto los <a href="#" onclick="showTerms()">t√©rminos y condiciones</a> de la quiniela y confirmo que soy mayor de edad.</label>
            </div>
        </div>

        <button type="submit" class="submit-btn" id="submitBtn">
            <span>üéØ Enviar mi Quiniela</span>
        </button>
    </form>
</main>

<footer class="footer">
    <p>¬© 2025 Quiniela Liga MX ‚Ä¢ Todos los derechos reservados</p>
    <p style="margin-top: 10px; font-size: 0.75rem;">
        Desarrollado con ‚ù§Ô∏è para aficionados del f√∫tbol mexicano
    </p>
</footer>

<script>
    // ==================== CONFIGURACI√ìN ====================
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzaCNYQ46HVgp3jb97jAp5tvdlF7VHfQ4j9Fg3fNy12AKLyYl5O0SWfRRPH2IObNgmemQ/exec";
    window.TOTAL_MATCHES = 9;
    window.DEADLINE = new Date('2026-01-10T18:00:00'); // Fecha l√≠mite para participar

    // ==================== ELEMENTOS DOM ====================
    const form = document.getElementById('quinielaForm');
    const submitBtn = document.getElementById('submitBtn');
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    const toastContainer = document.getElementById('toastContainer');
    const confirmModal = document.getElementById('confirmModal');

    // ==================== CONTADOR DE TIEMPO ====================
    function updateCountdown() {
        const now = new Date();
        const diff = window.DEADLINE - now;

        if (diff <= 0) {
            document.getElementById('days').textContent = '00';
            document.getElementById('hours').textContent = '00';
            document.getElementById('minutes').textContent = '00';
            document.getElementById('seconds').textContent = '00';
            submitBtn.disabled = true;
            submitBtn.innerHTML = '‚è∞ Tiempo agotado';
            return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        document.getElementById('days').textContent = String(days).padStart(2, '0');
        document.getElementById('hours').textContent = String(hours).padStart(2, '0');
        document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
        document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // ==================== BARRA DE PROGRESO ====================
    function updateProgress() {
        let selected = 0;
        for (let i = 1; i <= window.TOTAL_MATCHES; i++) {
            if (form.querySelector(`input[name="p${i}"]:checked`)) {
                selected++;
            }
        }
        const percentage = (selected / window.TOTAL_MATCHES) * 100;
        progressFill.style.width = `${percentage}%`;
        progressText.textContent = `${selected} de ${window.TOTAL_MATCHES} partidos`;
        
        // Guardar en localStorage
        saveToLocalStorage();
    }

    // ==================== COLOREAR TARJETAS SELECCIONADAS ====================
    document.querySelectorAll('.options input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const card = this.closest('.match-card');
            card.classList.remove('selected-L', 'selected-E', 'selected-V');
            card.classList.add(`selected-${this.value}`);
            updateProgress();
        });
    });

    // ==================== LOCAL STORAGE ====================
    function saveToLocalStorage() {
        const data = {
            nombre: form.nombre.value,
            email: form.email.value,
            telefono: form.telefono.value,
            predictions: {}
        };
        
        for (let i = 1; i <= window.TOTAL_MATCHES; i++) {
            const checked = form.querySelector(`input[name="p${i}"]:checked`);
            if (checked) {
                data.predictions[`p${i}`] = checked.value;
            }
        }
        
        localStorage.setItem('quinielaData', JSON.stringify(data));
    }

    function loadFromLocalStorage() {
        const saved = localStorage.getItem('quinielaData');
        if (!saved) return;

        try {
            const data = JSON.parse(saved);
            
            if (data.nombre) form.nombre.value = data.nombre;
            if (data.email) form.email.value = data.email;
            if (data.telefono) form.telefono.value = data.telefono;
            
            if (data.predictions) {
                Object.entries(data.predictions).forEach(([name, value]) => {
                    const radio = form.querySelector(`input[name="${name}"][value="${value}"]`);
                    if (radio) {
                        radio.checked = true;
                        const card = radio.closest('.match-card');
                        card.classList.add(`selected-${value}`);
                    }
                });
            }
            
            updateProgress();
            showToast('Se restauraron tus pron√≥sticos guardados', 'success');
        } catch (e) {
            console.error('Error loading saved data:', e);
        }
    }

    // Cargar datos guardados al iniciar
    loadFromLocalStorage();

    // ==================== NOTIFICACIONES TOAST ====================
    function showToast(message, type = 'success') {
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        const icon = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ö†Ô∏è';
        toast.innerHTML = `<span>${icon}</span><span>${message}</span>`;
        
        toastContainer.appendChild(toast);
        
        setTimeout(() => {
            toast.style.animation = 'slideOut 0.3s ease forwards';
            setTimeout(() => toast.remove(), 300);
        }, 4000);
    }

    // ==================== MODAL DE CONFIRMACI√ìN ====================
    function openModal() {
        confirmModal.classList.add('active');
    }

    function closeModal() {
        confirmModal.classList.remove('active');
    }

    // ==================== VALIDACI√ìN Y ENV√çO ====================
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Verificar que todos los partidos est√©n seleccionados
        let allSelected = true;
        let firstMissing = null;
        
        for (let i = 1; i <= window.TOTAL_MATCHES; i++) {
            if (!form.querySelector(`input[name="p${i}"]:checked`)) {
                allSelected = false;
                if (!firstMissing) {
                    firstMissing = document.querySelector(`[data-match="${i}"]`);
                }
            }
        }
        
        if (!allSelected) {
            showToast('Debes seleccionar un pron√≥stico para todos los partidos', 'warning');
            if (firstMissing) {
                firstMissing.scrollIntoView({ behavior: 'smooth', block: 'center' });
                firstMissing.classList.add('shake');
                setTimeout(() => firstMissing.classList.remove('shake'), 500);
            }
            return;
        }
        
        // Verificar t√©rminos
        if (!form.terms.checked) {
            showToast('Debes aceptar los t√©rminos y condiciones', 'warning');
            return;
        }
        
        // Mostrar modal de confirmaci√≥n
        openModal();
    });

    function confirmSubmit() {
        closeModal();
        sendQuiniela();
    }

    function sendQuiniela() {
        // Deshabilitar bot√≥n
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<div class="spinner"></div> Enviando...';

        // Recolectar datos
        const data = {
            nombre: form.nombre.value.trim(),
            email: form.email.value.trim(),
            telefono: form.telefono.value.trim(),
            timestamp: new Date().toISOString()
        };

        for (let i = 1; i <= window.TOTAL_MATCHES; i++) {
            data[`p${i}`] = form.querySelector(`input[name="p${i}"]:checked`).value;
        }

        // Enviar a Google Sheets
        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        })
        .then(() => {
            showToast('¬°Quiniela registrada con √©xito! Buena suerte üçÄ', 'success');
            
            // Limpiar localStorage
            localStorage.removeItem('quinielaData');
            
            // Resetear formulario
            form.reset();
            document.querySelectorAll('.match-card').forEach(card => {
                card.classList.remove('selected-L', 'selected-E', 'selected-V');
            });
            updateProgress();
            
            submitBtn.innerHTML = '‚úÖ ¬°Enviado con √©xito!';
            
            setTimeout(() => {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<span>üéØ Enviar otra Quiniela</span>';
            }, 3000);
        })
        .catch(error => {
            console.error('Error:', error);
            showToast('Error al enviar. Por favor intenta de nuevo.', 'error');
            submitBtn.disabled = false;
            submitBtn.innerHTML = '<span>üîÑ Reintentar</span>';
        });
    }

    // ==================== T√âRMINOS Y CONDICIONES ====================
    function showTerms() {
        alert(`T√âRMINOS Y CONDICIONES DE LA QUINIELA

1. PARTICIPACI√ìN
- La participaci√≥n es gratuita y abierta a mayores de 18 a√±os.
- Solo se permite una quiniela por persona.

2. PREMIOS
- 1er lugar: $1,000 MXN
- 2do lugar: $500 MXN
- 3er lugar: $500 MXN

3. CRITERIOS DE DESEMPATE
- Mayor n√∫mero de aciertos.
- En caso de empate, se dividir√° el premio.

4. ENTREGA DE PREMIOS
- Los premios se entregar√°n dentro de los 5 d√≠as h√°biles posteriores al cierre de la jornada.

5. RESPONSABILIDAD
- El organizador se reserva el derecho de descalificar participantes que incurran en pr√°cticas fraudulentas.

Al participar, aceptas estos t√©rminos y condiciones.`);
    }

    // ==================== CONTADOR DE PARTICIPANTES (Simulado) ====================
    function updateParticipants() {
        const baseCount = 247;
        const randomAdd = Math.floor(Math.random() * 3);
        const current = parseInt(document.getElementById('participantes').textContent) || baseCount;
        document.getElementById('participantes').textContent = current + randomAdd;
    }

    // Simular nuevos participantes cada 30 segundos
    setInterval(updateParticipants, 30000);

    // ==================== SERVICE WORKER (PWA Ready) ====================
    if ('serviceWorker' in navigator) {
        // Aqu√≠ podr√≠as registrar un service worker para PWA
        // navigator.serviceWorker.register('/sw.js');
    }

    // ==================== ADMIN PANEL ====================
    const ADMIN_PASSWORD = 'admin123'; // Cambiar por una contrase√±a segura
    let isAdminLoggedIn = false;
    
    // Default configuration
    const DEFAULT_CONFIG = {
        leagueName: 'Quiniela Liga MX',
        season: 'Clausura 2025',
        jornada: 1,
        deadlineDate: '2026-01-10',
        deadlineTime: '18:00',
        prize1: 1000,
        prize2: 500,
        prize3: 500,
        participants: 247,
        matches: [
            { number: 1, home: 'Am√©rica', homeLogo: 'ü¶Ö', away: 'Chivas', awayLogo: 'üêê', date: 'Vie 10 Ene', time: '19:00' },
            { number: 2, home: 'Cruz Azul', homeLogo: 'üöÇ', away: 'Rayados', awayLogo: '‚ö°', date: 'Vie 10 Ene', time: '21:00' },
            { number: 3, home: 'Le√≥n', homeLogo: 'ü¶Å', away: 'Pumas', awayLogo: 'üêæ', date: 'S√°b 11 Ene', time: '17:00' },
            { number: 4, home: 'Tigres', homeLogo: 'üêØ', away: 'Toluca', awayLogo: 'üòà', date: 'S√°b 11 Ene', time: '19:00' },
            { number: 5, home: 'Pachuca', homeLogo: 'üîµ', away: 'Santos', awayLogo: 'üü¢', date: 'S√°b 11 Ene', time: '21:00' },
            { number: 6, home: 'Quer√©taro', homeLogo: 'ü¶à', away: 'Mazatl√°n', awayLogo: '‚öì', date: 'Dom 12 Ene', time: '12:00' },
            { number: 7, home: 'Atlas', homeLogo: 'üî¥', away: 'Necaxa', awayLogo: 'üü°', date: 'Dom 12 Ene', time: '17:00' },
            { number: 8, home: 'Ju√°rez', homeLogo: 'ü¶Ç', away: 'San Luis', awayLogo: 'üåµ', date: 'Dom 12 Ene', time: '19:00' },
            { number: 9, home: 'Puebla', homeLogo: 'üèõÔ∏è', away: 'Tijuana', awayLogo: 'üê¥', date: 'Dom 12 Ene', time: '21:00' }
        ],
        results: []
    };
    
    function openAdminPanel() {
        document.getElementById('adminModal').classList.add('active');
    }
    
    function closeAdminPanel() {
        document.getElementById('adminModal').classList.remove('active');
        isAdminLoggedIn = false;
        document.getElementById('adminLoginSection').style.display = 'block';
        document.getElementById('adminPanelContent').style.display = 'none';
        document.getElementById('adminPassword').value = '';
    }
    
    function adminLogin() {
        const password = document.getElementById('adminPassword').value;
        if (password === ADMIN_PASSWORD) {
            isAdminLoggedIn = true;
            document.getElementById('adminLoginSection').style.display = 'none';
            document.getElementById('adminPanelContent').style.display = 'block';
            loadAdminConfig();
            showToast('Acceso concedido', 'success');
        } else {
            showToast('Contrase√±a incorrecta', 'error');
            document.getElementById('adminPassword').value = '';
        }
    }
    
    function switchTab(tabName) {
        // Update tab buttons
        document.querySelectorAll('.admin-tab').forEach(tab => tab.classList.remove('active'));
        event.target.classList.add('active');
        
        // Update tab panels
        document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
        document.getElementById(`tab-${tabName}`).classList.add('active');
        
        // Load specific tab data
        if (tabName === 'matches') {
            renderMatchesConfig();
        } else if (tabName === 'results') {
            renderResultsConfig();
        }
    }
    
    function getAdminConfig() {
        const saved = localStorage.getItem('adminConfig');
        return saved ? JSON.parse(saved) : DEFAULT_CONFIG;
    }
    
    function saveAdminConfig(config) {
        localStorage.setItem('adminConfig', JSON.stringify(config));
    }
    
    function loadAdminConfig() {
        const config = getAdminConfig();
        
        // Load general settings
        document.getElementById('adminLeagueName').value = config.leagueName || '';
        document.getElementById('adminSeason').value = config.season || '';
        document.getElementById('adminJornada').value = config.jornada || 1;
        document.getElementById('adminDeadlineDate').value = config.deadlineDate || '';
        document.getElementById('adminDeadlineTime').value = config.deadlineTime || '';
        document.getElementById('adminPrize1').value = config.prize1 || 0;
        document.getElementById('adminPrize2').value = config.prize2 || 0;
        document.getElementById('adminPrize3').value = config.prize3 || 0;
        document.getElementById('adminParticipants').value = config.participants || 0;
    }
    
    function saveGeneralConfig() {
        const config = getAdminConfig();
        
        config.leagueName = document.getElementById('adminLeagueName').value;
        config.season = document.getElementById('adminSeason').value;
        config.jornada = parseInt(document.getElementById('adminJornada').value) || 1;
        config.deadlineDate = document.getElementById('adminDeadlineDate').value;
        config.deadlineTime = document.getElementById('adminDeadlineTime').value;
        config.prize1 = parseInt(document.getElementById('adminPrize1').value) || 0;
        config.prize2 = parseInt(document.getElementById('adminPrize2').value) || 0;
        config.prize3 = parseInt(document.getElementById('adminPrize3').value) || 0;
        config.participants = parseInt(document.getElementById('adminParticipants').value) || 0;
        
        saveAdminConfig(config);
        applyConfiguration();
        showToast('Configuraci√≥n general guardada', 'success');
    }
    
    function renderMatchesConfig() {
        const config = getAdminConfig();
        const container = document.getElementById('matchesConfigContainer');
        
        if (!config.matches || config.matches.length === 0) {
            config.matches = DEFAULT_CONFIG.matches;
        }
        
        container.innerHTML = config.matches.map((match, index) => `
            <div class="match-config" data-index="${index}">
                <div class="match-config-header">
                    <h5>Partido ${match.number}</h5>
                    <button class="btn-small btn-danger" onclick="removeMatch(${index})">üóëÔ∏è Eliminar</button>
                </div>
                <div class="admin-grid">
                    <div class="admin-input-group">
                        <label>Equipo Local</label>
                        <input type="text" value="${match.home}" onchange="updateMatch(${index}, 'home', this.value)">
                    </div>
                    <div class="admin-input-group">
                        <label>Logo Local</label>
                        <input type="text" value="${match.homeLogo}" onchange="updateMatch(${index}, 'homeLogo', this.value)">
                    </div>
                    <div class="admin-input-group">
                        <label>Equipo Visitante</label>
                        <input type="text" value="${match.away}" onchange="updateMatch(${index}, 'away', this.value)">
                    </div>
                    <div class="admin-input-group">
                        <label>Logo Visitante</label>
                        <input type="text" value="${match.awayLogo}" onchange="updateMatch(${index}, 'awayLogo', this.value)">
                    </div>
                    <div class="admin-input-group">
                        <label>Fecha</label>
                        <input type="text" value="${match.date}" onchange="updateMatch(${index}, 'date', this.value)">
                    </div>
                    <div class="admin-input-group">
                        <label>Hora</label>
                        <input type="time" value="${match.time}" onchange="updateMatch(${index}, 'time', this.value)">
                    </div>
                </div>
            </div>
        `).join('');
    }
    
    function updateMatch(index, field, value) {
        const config = getAdminConfig();
        config.matches[index][field] = value;
        saveAdminConfig(config);
    }
    
    function addMatchConfig() {
        const config = getAdminConfig();
        const newNumber = config.matches.length + 1;
        config.matches.push({
            number: newNumber,
            home: 'Equipo Local',
            homeLogo: '‚öΩ',
            away: 'Equipo Visitante',
            awayLogo: '‚öΩ',
            date: 'Fecha',
            time: '20:00'
        });
        saveAdminConfig(config);
        renderMatchesConfig();
        showToast('Partido agregado', 'success');
    }
    
    function removeMatch(index) {
        if (!confirm('¬øEst√°s seguro de eliminar este partido?')) return;
        
        const config = getAdminConfig();
        config.matches.splice(index, 1);
        // Renumber matches
        config.matches.forEach((match, idx) => {
            match.number = idx + 1;
        });
        saveAdminConfig(config);
        renderMatchesConfig();
        showToast('Partido eliminado', 'success');
    }
    
    function saveMatchesConfig() {
        applyConfiguration();
        showToast('Configuraci√≥n de partidos guardada', 'success');
    }
    
    function renderResultsConfig() {
        const config = getAdminConfig();
        const container = document.getElementById('resultsConfigContainer');
        
        if (!config.results) {
            config.results = [];
        }
        
        container.innerHTML = config.matches.map((match, index) => {
            const result = config.results[index] || { home: '', away: '' };
            return `
                <div class="match-config">
                    <div class="match-config-header">
                        <h5>${match.home} vs ${match.away}</h5>
                    </div>
                    <div class="result-input">
                        <div class="admin-input-group" style="margin: 0;">
                            <label>${match.home}</label>
                            <input type="number" min="0" value="${result.home}" 
                                   onchange="updateResult(${index}, 'home', this.value)" 
                                   placeholder="0">
                        </div>
                        <span class="result-separator">-</span>
                        <div class="admin-input-group" style="margin: 0;">
                            <label>${match.away}</label>
                            <input type="number" min="0" value="${result.away}" 
                                   onchange="updateResult(${index}, 'away', this.value)" 
                                   placeholder="0">
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }
    
    function updateResult(index, field, value) {
        const config = getAdminConfig();
        if (!config.results[index]) {
            config.results[index] = { home: '', away: '' };
        }
        config.results[index][field] = value;
        saveAdminConfig(config);
    }
    
    function saveResults() {
        showToast('Resultados guardados correctamente', 'success');
    }
    
    function applyConfiguration() {
        const config = getAdminConfig();
        
        // Update header
        const headerTitle = document.querySelector('.header h1');
        if (headerTitle && config.leagueName) {
            headerTitle.textContent = config.leagueName;
        }
        
        const jornada = document.querySelector('.header .jornada');
        if (jornada && config.season && config.jornada) {
            jornada.textContent = `${config.season} ‚Ä¢ Jornada ${config.jornada}`;
        }
        
        // Update title
        if (config.leagueName && config.jornada) {
            document.title = `üèÜ ${config.leagueName} - Jornada ${config.jornada}`;
        }
        
        // Update deadline
        if (config.deadlineDate && config.deadlineTime) {
            const newDeadline = new Date(`${config.deadlineDate}T${config.deadlineTime}:00`);
            window.DEADLINE = newDeadline;
            updateCountdown();
        }
        
        // Update prizes
        const prizeAmount = document.querySelector('.prize-amount');
        if (prizeAmount && config.prize1) {
            prizeAmount.textContent = `$${config.prize1.toLocaleString()} MXN`;
        }
        
        const statsBar = document.querySelector('.stats-bar');
        if (statsBar) {
            const totalPrizes = config.prize1 + config.prize2 + config.prize3;
            statsBar.innerHTML = `
                <div class="stat-item">
                    <div class="stat-number" id="participantes">${config.participants}</div>
                    <div class="stat-label">Participantes</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">${config.matches.length}</div>
                    <div class="stat-label">Partidos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">$${totalPrizes.toLocaleString()}</div>
                    <div class="stat-label">En premios</div>
                </div>
            `;
        }
        
        // Update matches
        updateMatchesDisplay();
    }
    
    function updateMatchesDisplay() {
        const config = getAdminConfig();
        const formElement = document.getElementById('quinielaForm');
        
        // Remove old match cards
        const oldCards = formElement.querySelectorAll('.match-card');
        oldCards.forEach(card => card.remove());
        
        // Get reference point (user section)
        const userSection = formElement.querySelector('.user-section');
        
        // Add new match cards
        config.matches.forEach(match => {
            const matchCard = document.createElement('div');
            matchCard.className = 'match-card';
            matchCard.setAttribute('data-match', match.number);
            matchCard.innerHTML = `
                <div class="match-header">
                    <div class="match-number">${match.number}</div>
                    <div class="match-date">üìÖ ${match.date} ‚Ä¢ ${match.time}</div>
                </div>
                <div class="teams">
                    <div class="team home">
                        <div class="team-logo">${match.homeLogo}</div>
                        <span class="team-name">${match.home}</span>
                    </div>
                    <div class="vs-badge">VS</div>
                    <div class="team away">
                        <div class="team-logo">${match.awayLogo}</div>
                        <span class="team-name">${match.away}</span>
                    </div>
                </div>
                <div class="options">
                    <input type="radio" name="p${match.number}" id="p${match.number}L" value="L" required>
                    <label for="p${match.number}L">L<span class="label-text">Local</span></label>
                    <input type="radio" name="p${match.number}" id="p${match.number}E" value="E">
                    <label for="p${match.number}E">E<span class="label-text">Empate</span></label>
                    <input type="radio" name="p${match.number}" id="p${match.number}V" value="V">
                    <label for="p${match.number}V">V<span class="label-text">Visita</span></label>
                </div>
            `;
            
            formElement.insertBefore(matchCard, userSection);
        });
        
        // Re-attach event listeners for new cards
        document.querySelectorAll('.options input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const card = this.closest('.match-card');
                card.classList.remove('selected-L', 'selected-E', 'selected-V');
                card.classList.add(`selected-${this.value}`);
                updateProgress();
            });
        });
        
        // Update total matches constant
        window.TOTAL_MATCHES = config.matches.length;
        updateProgress();
    }
    
    function exportConfig() {
        const config = getAdminConfig();
        const dataStr = JSON.stringify(config, null, 2);
        const dataBlob = new Blob([dataStr], { type: 'application/json' });
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `quiniela-config-${new Date().toISOString().split('T')[0]}.json`;
        link.click();
        URL.revokeObjectURL(url);
        showToast('Configuraci√≥n exportada', 'success');
    }
    
    function importConfig(input) {
        const file = input.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const config = JSON.parse(e.target.result);
                saveAdminConfig(config);
                loadAdminConfig();
                applyConfiguration();
                showToast('Configuraci√≥n importada correctamente', 'success');
                input.value = '';
            } catch (error) {
                showToast('Error al importar: archivo inv√°lido', 'error');
                input.value = '';
            }
        };
        reader.readAsText(file);
    }
    
    function resetConfig() {
        if (!confirm('¬øEst√°s seguro de resetear toda la configuraci√≥n? Esta acci√≥n no se puede deshacer.')) {
            return;
        }
        
        saveAdminConfig(DEFAULT_CONFIG);
        loadAdminConfig();
        applyConfiguration();
        showToast('Configuraci√≥n restablecida a valores por defecto', 'success');
    }
    
    // Apply configuration on page load
    window.addEventListener('DOMContentLoaded', function() {
        applyConfiguration();
    });

    // ==================== ANIMACI√ìN DE ENTRADA ====================
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.match-card').forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = `all 0.5s ease ${index * 0.05}s`;
        observer.observe(card);
    });
</script>

</body>
</html>
